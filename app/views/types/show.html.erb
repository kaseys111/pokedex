<div class="page-header">
  <h3><%= @type.title.capitalize %></h3>
</div>

<div class="row">
  <div class="col-md-12 mb-2">

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Pokemon Good Against <%= @type.title.capitalize %> Types
        </th>
      </tr>
      <% @offense.sort_by{ |e| e.effectiveness }.reverse.each do |battle| %>
        <% battle.offense.pokemon.each do |p| %>
          <tr>
            <td class="col-md-1" ><%= p.creature.capitalize %></td>
            <td class="col-md-1"><%= battle.offense.title.capitalize %></td>
            <td class="col-md-1"><%= battle.effectiveness %></td>
          </tr>
        <% end %>
      <% end %>
    </table>

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Best Pokemon Against <%= @type.title.capitalize %> Types
        </th>
      </tr>

        <% @offense.each do |battle| %>
          <% if @defense.exists?(:defense_id => "#{battle.offense_id}") == true %>
            <% battle.offense.pokemon.each do |p| %>
              <tr>
                <td class="col-md-1" ><%= p.creature.capitalize %></td>
                <td class="col-md-1"><%= battle.offense.title.capitalize %></td>
              </tr>
            <% end %>
          <% end %>
        <% end %>
    </table>

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Pokemon Good Defending Against <%= @type.title.capitalize %> Types
        </th>
      </tr>
      <% @defense.sort_by{ |e| e.effectiveness }.each do |battle| %>
        <% battle.defense.pokemon.each do |p| %>
          <tr>
            <td class="col-md-1"><%= p.creature.capitalize %></td>
            <td class="col-md-1"><%= battle.defense.title.capitalize %></td>
            <td class="col-md-1"><%= battle.effectiveness %></td>
          </tr>
        <% end %>
      <% end %>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-md-12 mb-2">

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Pokemon Bad Against <%= @type.title.capitalize %> Types
        </th>
      </tr>
      <% @aoffense.sort_by{ |e| e.effectiveness }.reverse.each do |battle| %>
        <% battle.offense.pokemon.each do |p| %>
          <tr>
            <td class="col-md-1" ><%= p.creature.capitalize %></td>
            <td class="col-md-1"><%= battle.offense.title.capitalize %></td>
            <td class="col-md-1"><%= battle.effectiveness %></td>
          </tr>
        <% end %>
      <% end %>
    </table>

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Worst Pokemon Against <%= @type.title.capitalize %> Types
        </th>
      </tr>

        <% @aoffense.each do |battle| %>
          <% if @adefense.exists?(:defense_id => "#{battle.offense_id}") == true %>
            <% battle.offense.pokemon.each do |p| %>
              <tr>
                <td class="col-md-1" ><%= p.creature.capitalize %></td>
                <td class="col-md-1"><%= battle.offense.title.capitalize %></td>
              </tr>
            <% end %>
          <% end %>
        <% end %>
    </table>

    <table class="col-md-4">
      <tr>
        <th colspan=3>
          Pokemon Bad Defending Against <%= @type.title.capitalize %> Types
        </th>
      </tr>
      <% @adefense.sort_by{ |e| e.effectiveness }.each do |battle| %>
        <% battle.defense.pokemon.each do |p| %>
          <tr>
            <td class="col-md-1"><%= p.creature.capitalize %></td>
            <td class="col-md-1"><%= battle.defense.title.capitalize %></td>
            <td class="col-md-1"><%= battle.effectiveness %></td>
          </tr>
        <% end %>
      <% end %>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-md-12 mb-2">
    <div class="btn-group btn-group-justified">
      <a href="/types" class="btn btn-primary">
        Back
      </a>
      <a href="/types/<%= @type.id %>/edit" class="btn btn-warning">
        Edit
      </a>
      <a href="/delete_type/<%= @type.id %>" class="btn btn-danger" rel="nofollow">
        Delete
      </a>
    </div>
  </div>
</div>
